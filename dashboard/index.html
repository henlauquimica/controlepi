<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard | ControlEPI</title>
    <link rel="stylesheet" href="style.css" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap"
      rel="stylesheet"
    />

    <!-- Firebase SDKs -->
    <script type="module" src="app.js?v=3"></script>
  </head>
  <body>
    <div class="dashboard-container">
      <!-- Sidebar / Header -->
      <header class="sidebar">
        <div class="logo">
          <h1>Control<span>EPI</span></h1>
          <p>Henlau Química</p>
        </div>
        <div class="status-indicator" id="connectionStatus">
          <span class="dot"></span>
          <span class="text">Desconectado</span>
        </div>
      </header>

      <!-- Main Content -->
      <main class="content">
        <!-- Stats Cards -->
        <section class="stats-grid">
          <div class="card stat-card">
            <h3>Dispensações Hoje</h3>
            <div class="value" id="todayCount">0</div>
            <div class="trend">+0% vs ontem</div>
          </div>
          <div class="card stat-card warning">
            <h3>Alertas de Uso</h3>
            <div class="value" id="alertCount">0</div>
            <div class="trend">Timeouts detectados</div>
          </div>
          <div class="card stat-card info">
            <h3>Último Acesso</h3>
            <div class="value small" id="lastAccess">--:--</div>
            <div class="trend">Aguardando dados...</div>
          </div>
        </section>

        <!-- Live Feed -->
        <section class="feed-section">
          <h2>Registros em Tempo Real</h2>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Horário</th>
                  <th>Funcionário (UID)</th>
                  <th>Status</th>
                  <th>Ação</th>
                </tr>
              </thead>
              <tbody id="logTableBody">
                <!-- Rows will be injected by JS -->
                <tr class="placeholder-row">
                  <td colspan="4">Aguardando novos registros...</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>
      </main>
    </div>
  </body>
</html>
